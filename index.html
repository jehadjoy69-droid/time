<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Time</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#020617;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
text-align:center;
}

.card{
background:#0f172a;
padding:40px;
border-radius:15px;
width:90%;
max-width:350px;
box-shadow:0 0 20px rgba(0,0,0,0.4);
}

h2{
margin-bottom:25px;
}

.time{
font-size:28px;
margin:20px 0;
font-weight:bold;
}
</style>
</head>

<body>

<div class="card">
<h2>Today's Time</h2>
<div class="time" id="sehri">Loading Sehri...</div>
<div class="time" id="iftar">Loading Iftar...</div>
</div>

<script>

navigator.geolocation.getCurrentPosition(function(pos){

let lat = pos.coords.latitude;
let lon = pos.coords.longitude;

// Get District Name
fetch(https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon})
.then(res=>res.json())
.then(loc=>{

let district =
loc.address.state_district ||
loc.address.city ||
loc.address.town ||
loc.address.village;

// Clean name (Remove District / Division)
district = district
.replace(" District","")
.replace(" Division","")
.trim();

// Call Your API
fetch(https://mahbub-ullash.cyberbot.top/api/ramadan?location=${district})
.then(res=>res.json())
.then(data=>{

document.getElementById("sehri").innerHTML =
"Sehri Ends: " + data.today.sehri_end;

document.getElementById("iftar").innerHTML =
"Iftar: " + data.today.iftar;

})
.catch(()=>{
document.getElementById("sehri").innerHTML="Data Not Found";
document.getElementById("iftar").innerHTML="Data Not Found";
});

});

}, function(){
alert("Please allow location permission!");
});

</script>

</body>
</html>
